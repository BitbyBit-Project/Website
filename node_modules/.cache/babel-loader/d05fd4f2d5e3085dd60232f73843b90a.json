{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mekia/Documents/GitHub/Nursing VR Website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/mekia/Documents/GitHub/Nursing VR Website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mekia/Documents/GitHub/Nursing VR Website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{CodeSnippet}from\"../components/code-snippet\";import{PageLayout}from\"../components/page-layout\";import{getProtectedResource}from\"../services/message.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ProtectedPage=function ProtectedPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];useEffect(function(){var isMounted=true;var getMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$getProtectedRe,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getProtectedResource();case 2:_yield$getProtectedRe=_context.sent;data=_yield$getProtectedRe.data;error=_yield$getProtectedRe.error;if(isMounted){_context.next=7;break;}return _context.abrupt(\"return\");case 7:if(data){setMessage(JSON.stringify(data,null,2));}if(error){setMessage(JSON.stringify(error,null,2));}case 9:case\"end\":return _context.stop();}}},_callee);}));return function getMessage(){return _ref.apply(this,arguments);};}();getMessage();return function(){isMounted=false;};},[]);return/*#__PURE__*/_jsx(PageLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-layout\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"page-title\",className:\"content__title\",children:\"Protected Page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content__body\",children:[/*#__PURE__*/_jsxs(\"p\",{id:\"page-description\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"This page retrieves a \",/*#__PURE__*/_jsx(\"strong\",{children:\"protected message\"}),\" from an external API.\"]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Only authenticated users should access this page.\"})})]}),/*#__PURE__*/_jsx(CodeSnippet,{title:\"Protected Message\",code:message})]})]})});};","map":{"version":3,"names":["React","useEffect","useState","CodeSnippet","PageLayout","getProtectedResource","ProtectedPage","message","setMessage","isMounted","getMessage","data","error","JSON","stringify"],"sources":["C:/Users/mekia/Documents/GitHub/Nursing VR Website/src/pages/protected-page.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CodeSnippet } from \"../components/code-snippet\";\r\nimport { PageLayout } from \"../components/page-layout\";\r\nimport { getProtectedResource } from \"../services/message.service\";\r\n\r\nexport const ProtectedPage = () => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const getMessage = async () => {\r\n      const { data, error } = await getProtectedResource();\r\n\r\n      if (!isMounted) {\r\n        return;\r\n      }\r\n\r\n      if (data) {\r\n        setMessage(JSON.stringify(data, null, 2));\r\n      }\r\n\r\n      if (error) {\r\n        setMessage(JSON.stringify(error, null, 2));\r\n      }\r\n    };\r\n\r\n    getMessage();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <PageLayout>\r\n      <div className=\"content-layout\">\r\n        <h1 id=\"page-title\" className=\"content__title\">\r\n          Protected Page\r\n        </h1>\r\n        <div className=\"content__body\">\r\n          <p id=\"page-description\">\r\n            <span>\r\n              This page retrieves a <strong>protected message</strong> from an\r\n              external API.\r\n            </span>\r\n            <span>\r\n              <strong>Only authenticated users should access this page.</strong>\r\n            </span>\r\n          </p>\r\n          <CodeSnippet title=\"Protected Message\" code={message} />\r\n        </div>\r\n      </div>\r\n    </PageLayout>\r\n  );\r\n};\r\n"],"mappings":"waAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,4BAA5B,CACA,OAASC,UAAT,KAA2B,2BAA3B,CACA,OAASC,oBAAT,KAAqC,6BAArC,C,wFAEA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACjC,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eAEAP,SAAS,CAAC,UAAM,CACd,GAAIQ,UAAS,CAAG,IAAhB,CAEA,GAAMC,WAAU,4FAAG,gMACaL,qBAAoB,EADjC,4CACTM,IADS,uBACTA,IADS,CACHC,KADG,uBACHA,KADG,IAGZH,SAHY,iEAOjB,GAAIE,IAAJ,CAAU,CACRH,UAAU,CAACK,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAqB,IAArB,CAA2B,CAA3B,CAAD,CAAV,CACD,CAED,GAAIC,KAAJ,CAAW,CACTJ,UAAU,CAACK,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAsB,IAAtB,CAA4B,CAA5B,CAAD,CAAV,CACD,CAbgB,sDAAH,kBAAVF,WAAU,0CAAhB,CAgBAA,UAAU,GAEV,MAAO,WAAM,CACXD,SAAS,CAAG,KAAZ,CACD,CAFD,CAGD,CAxBQ,CAwBN,EAxBM,CAAT,CA0BA,mBACE,KAAC,UAAD,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,WAAI,EAAE,CAAC,YAAP,CAAoB,SAAS,CAAC,gBAA9B,4BADF,cAIE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAG,EAAE,CAAC,kBAAN,wBACE,8DACwB,6CADxB,4BADF,cAKE,mCACE,6EADF,EALF,GADF,cAUE,KAAC,WAAD,EAAa,KAAK,CAAC,mBAAnB,CAAuC,IAAI,CAAEF,OAA7C,EAVF,GAJF,GADF,EADF,CAqBD,CAlDM"},"metadata":{},"sourceType":"module"}