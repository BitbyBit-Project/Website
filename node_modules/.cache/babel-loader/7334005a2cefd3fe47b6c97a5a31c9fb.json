{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mekia/Documents/GitHub/Nursing VR Website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/mekia/Documents/GitHub/Nursing VR Website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mekia/Documents/GitHub/Nursing VR Website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{CodeSnippet}from\"../components/code-snippet\";import{PageLayout}from\"../components/page-layout\";import{getPublicResource}from\"../services/message.service\";import{Helmet}from\"react-helmet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PublicPage=function PublicPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];useEffect(function(){var isMounted=true;var getMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$getPublicResou,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getPublicResource();case 2:_yield$getPublicResou=_context.sent;data=_yield$getPublicResou.data;error=_yield$getPublicResou.error;if(isMounted){_context.next=7;break;}return _context.abrupt(\"return\");case 7:if(data){setMessage(JSON.stringify(data,null,2));}if(error){setMessage(JSON.stringify(error,null,2));}case 9:case\"end\":return _context.stop();}}},_callee);}));return function getMessage(){return _ref.apply(this,arguments);};}();getMessage();return function(){isMounted=false;};},[]);return/*#__PURE__*/_jsxs(PageLayout,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Public Page\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-layout\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"page-title\",className:\"content__title\",children:\"Public Page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content__body\",children:[/*#__PURE__*/_jsxs(\"p\",{id:\"page-description\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"This page retrieves a \",/*#__PURE__*/_jsx(\"strong\",{children:\"public message\"}),\" from an external API.\"]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Any visitor can access this page.\"})})]}),/*#__PURE__*/_jsx(CodeSnippet,{title:\"Public Message\",code:message})]})]})]});};","map":{"version":3,"names":["React","useEffect","useState","CodeSnippet","PageLayout","getPublicResource","Helmet","PublicPage","message","setMessage","isMounted","getMessage","data","error","JSON","stringify"],"sources":["C:/Users/mekia/Documents/GitHub/Nursing VR Website/src/pages/public-page.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CodeSnippet } from \"../components/code-snippet\";\r\nimport { PageLayout } from \"../components/page-layout\";\r\nimport { getPublicResource } from \"../services/message.service\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nexport const PublicPage = () => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const getMessage = async () => {\r\n      const { data, error } = await getPublicResource();\r\n\r\n      if (!isMounted) {\r\n        return;\r\n      }\r\n\r\n      if (data) {\r\n        setMessage(JSON.stringify(data, null, 2));\r\n      }\r\n\r\n      if (error) {\r\n        setMessage(JSON.stringify(error, null, 2));\r\n      }\r\n    };\r\n\r\n    getMessage();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <PageLayout>\r\n        <Helmet>\r\n          <title>Public Page</title>\r\n        </Helmet>\r\n      <div className=\"content-layout\">\r\n        <h1 id=\"page-title\" className=\"content__title\">\r\n          Public Page\r\n        </h1>\r\n        <div className=\"content__body\">\r\n          <p id=\"page-description\">\r\n            <span>\r\n              This page retrieves a <strong>public message</strong> from an\r\n              external API.\r\n            </span>\r\n            <span>\r\n              <strong>Any visitor can access this page.</strong>\r\n            </span>\r\n          </p>\r\n          <CodeSnippet title=\"Public Message\" code={message} />\r\n        </div>\r\n      </div>\r\n    </PageLayout>\r\n  );\r\n};\r\n"],"mappings":"waAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,4BAA5B,CACA,OAASC,UAAT,KAA2B,2BAA3B,CACA,OAASC,iBAAT,KAAkC,6BAAlC,CACA,OAASC,MAAT,KAAuB,cAAvB,C,wFAEA,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAC9B,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eAEAR,SAAS,CAAC,UAAM,CACd,GAAIS,UAAS,CAAG,IAAhB,CAEA,GAAMC,WAAU,4FAAG,gMACaN,kBAAiB,EAD9B,4CACTO,IADS,uBACTA,IADS,CACHC,KADG,uBACHA,KADG,IAGZH,SAHY,iEAOjB,GAAIE,IAAJ,CAAU,CACRH,UAAU,CAACK,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAqB,IAArB,CAA2B,CAA3B,CAAD,CAAV,CACD,CAED,GAAIC,KAAJ,CAAW,CACTJ,UAAU,CAACK,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAsB,IAAtB,CAA4B,CAA5B,CAAD,CAAV,CACD,CAbgB,sDAAH,kBAAVF,WAAU,0CAAhB,CAgBAA,UAAU,GAEV,MAAO,WAAM,CACXD,SAAS,CAAG,KAAZ,CACD,CAFD,CAGD,CAxBQ,CAwBN,EAxBM,CAAT,CA0BA,mBACE,MAAC,UAAD,yBACI,KAAC,MAAD,wBACE,sCADF,EADJ,cAIE,aAAK,SAAS,CAAC,gBAAf,wBACE,WAAI,EAAE,CAAC,YAAP,CAAoB,SAAS,CAAC,gBAA9B,yBADF,cAIE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAG,EAAE,CAAC,kBAAN,wBACE,8DACwB,0CADxB,4BADF,cAKE,mCACE,6DADF,EALF,GADF,cAUE,KAAC,WAAD,EAAa,KAAK,CAAC,gBAAnB,CAAoC,IAAI,CAAEF,OAA1C,EAVF,GAJF,GAJF,GADF,CAwBD,CArDM"},"metadata":{},"sourceType":"module"}